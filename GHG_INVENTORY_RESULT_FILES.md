# GHG Inventory result files

## File format

The GHG inventory result files are text (csv) files with white space as the delimeter marker.

At the beginning of the file before the time series there can be optional
comments describing the content of the file in more detail in english.
The number sign (#) character at the beginning of a line denotes the beginning of the comment. 
These comments can span several lines.

After the optional file comments each line in the file contains one time series for an emission, area, stock change etc. in CRFReporter.
A single line begins with optional short comment, followed by the UID (*unique identifier*) in front of its 
time series. For the time series the comment is between two number signs. As an example:

      #Produced by <file name here> depends on <file names here>
      #This file has deadwood emissions from Cropland (organinc), Grassland (organic),
      #Settlements and Wetlands. Units are in <units used here>.
      #CLorg# 810E194F-0D38-4486-8A88-96ACF87C2059 -0.119 -0.119 -0.119 ...  -0.882 -0.948 -0.948
      #GLorg# 197C9403-609C-45DA-9A25-A0AD0BBA5930 NA NA NA -0.005 -0.01 ...  -0.026 NA NA NA
      #SL# 6E9B1091-9498-487A-8C33-268D053181AA -3.53 -3.638 -3.758 ... -2.522 -2.062 -2.062
      #WL# 80DA0459-04A7-494B-960D-74CA4BC2EAE1 NA -0.178 -0.3 -0.481 ... -0.233 -0.156 -0.156

One especially useful piece information is the names of the R script producing the output file and the files the output file depends on. 

The UID's (e.g. 810E194F-0D38-4486-8A88-96ACF87C205) are generated by CRFReporter.
Numbers cannot be expressed with scientific E notation (e.g. -0.0353e2). CRFReporter does not accept scientific notation numbers.
The dot (.) character must be used as a decimal point. During the the creation of PartyProfile xml for import to CRFReporter results
are rounded to six decimals. The exceptions are the results that need more than six decimals for the first significant digit. 
In such cases results are not rounded. 

The GHG inventory results are eventually reported to  CRFReporter via CRFreporter PartyProfile xml.
The programs used, [`run-ghg-master.sh`](lukeghg/lukeghg/bin/run-ghg-master.sh) and
[`run-eu529-ghg-master.sh`](lukeghg/lukeghg/bin/run-eu529-ghg-master.sh), resort to
the UID's of the time series to find their proper places in the PartyProfile xml. 

## File name conventions (ideas and comments welcome)

Although the process to fill CRFReporter PartyProfile xml with GHG inventory results is automated
there is frequent need to return to the result files and study their content manually. 
The use of descriptive comments and common file naming conventions can make this work easier.  

The GHG inventory results read by `run-ghg-master.sh` and `run-eu529-ghg-master.sh` assume
that LULUCF and KPLULUCF file names begin with *LU* and *KP* respectively. The file name suffix should
be *.csv* used for csv files. There is no need to use *LULUCF* or *KPLULUCF* to start the file name but
shorten them and use spared characters to describe the content of the file. **Note** that EU529
submission requires the year 1990 for CL and GL land use. These files will begin as *KPEU529*.

Try to indicate first in the file name, as much it is possible and feasible, the place in CRFreporter
where the content of the file is to appear. For example *LU4A1xxx.csv* guides the reader
at least to Forest Land Remaining Forest Land and *LU4A1_4Vxxx.csv* further to Biomass Burning.
Consider also using comment sections in the files where the results should appear in the CRFReporter.

The GHG inventory result files are mainly produced with R language programs. It is custom
in an R script to use the dot (.) character to separate words in function and variable names.
In file names do not use the dot but apply the underscore (_) instead to separate lowercase words. The only
dot should denote the *.csv* file name suffix.

GHG inventory has common *de facto* abbreviations for land use and land use changes.
For example FL is Forest land, GL is Grassland and FL-GL means Forest land converted
to Grassland. You can use these abbreviations in file names to detail the contents of the file.
If you have in mind to use word abbreviation make sure it is commonly known in the GHG inventory. 
Otherwise write the word in lowercase without shortening it.

Use english words only in file names, do not mix finnish words with english.


